<?xml version="1.0"?>
<psalm useDocblockTypes="true">
    <plugins>
        <pluginClass xmlns="https://getpsalm.org/schema/config" class="Psalm\PhpUnitPlugin\Plugin" />
    </plugins>

    <projectFiles>
        <directory name="src" />
        <directory name="tests/" />
    </projectFiles>

    <fileExtensions>
        <extension name=".php" />
    </fileExtensions>

    <issueHandlers>
        <InvalidReturnType>
            <errorLevel type="suppress">
                <directory name="tests/" />
            </errorLevel>
        </InvalidReturnType>

        <InvalidScalarArgument>
            <errorLevel type="suppress">
                <!-- Masking errors where we're passing methods that return `bool|string` into test assertions. -->
                <directory name="tests/" />
            </errorLevel>
        </InvalidScalarArgument>

        <LessSpecificReturnType errorLevel="suppress" />

        <PossiblyInvalidArgument>
            <errorLevel type="suppress">
                <!-- Masking errors where we're passing methods that return `bool|object` into test assertions. -->
                <directory name="tests/" />
            </errorLevel>
        </PossiblyInvalidArgument>

        <!-- This hides a number of errors that we don't really care about. -->
        <PropertyNotSetInConstructor errorLevel="suppress" />
    </issueHandlers>
</psalm>
